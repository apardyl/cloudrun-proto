syntax = "proto3";

package filedownload;

// Request file content or checksum
message FileRequest {
    uint64 id = 1;
    string path = 2;

    enum RequestType {
        GET = 0;
        CHECKSUM = 1;
    }

    RequestType type = 3;
}

// Send file checksum or (possibly chunked) content
message FileResponse {
    uint64 id = 1;
    bool next_chunk = 2;

    oneof payload {
        string checksum = 3;
        bytes data = 4;
    }
}
